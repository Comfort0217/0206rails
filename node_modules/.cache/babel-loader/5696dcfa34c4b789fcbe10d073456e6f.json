{"ast":null,"code":"document.addEventListener('DOMContentLoaded', function () {\n  var elements = document.querySelectorAll('.js-file-select-preview');\n  if (!elements) return;\n  elements.forEach(function (element) {\n    var previewElement = document.querySelector(element.dataset.target);\n    element.addEventListener('change', function (e) {\n      var reader = new FileReader();\n\n      reader.onloadend = function () {\n        previewElement.src = reader.result;\n      };\n\n      var file = e.target.files[0];\n\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    });\n  });\n});","map":{"version":3,"sources":["/Users/satoshifukuhara/mokumoku/app/javascript/image_preview.js"],"names":["document","addEventListener","elements","querySelectorAll","forEach","element","previewElement","querySelector","dataset","target","e","reader","FileReader","onloadend","src","result","file","files","readAsDataURL"],"mappings":"AAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAChD,MAAMC,QAAQ,GAAGF,QAAQ,CAACG,gBAAT,CAA0B,yBAA1B,CAAjB;AACA,MAAI,CAACD,QAAL,EAAe;AAEfA,EAAAA,QAAQ,CAACE,OAAT,CAAiB,UAACC,OAAD,EAAa;AAC1B,QAAMC,cAAc,GAAGN,QAAQ,CAACO,aAAT,CAAuBF,OAAO,CAACG,OAAR,CAAgBC,MAAvC,CAAvB;AACAJ,IAAAA,OAAO,CAACJ,gBAAR,CAAyB,QAAzB,EAAmC,UAACS,CAAD,EAAO;AACtC,UAAMC,MAAM,GAAI,IAAIC,UAAJ,EAAhB;;AACAD,MAAAA,MAAM,CAACE,SAAP,GAAmB,YAAM;AACrBP,QAAAA,cAAc,CAACQ,GAAf,GAAqBH,MAAM,CAACI,MAA5B;AACH,OAFD;;AAGA,UAAMC,IAAI,GAAGN,CAAC,CAACD,MAAF,CAASQ,KAAT,CAAe,CAAf,CAAb;;AACA,UAAID,IAAJ,EAAU;AACNL,QAAAA,MAAM,CAACO,aAAP,CAAqBF,IAArB;AACH;AACJ,KATD;AAUH,GAZD;AAaH,CAjBD","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    const elements = document.querySelectorAll('.js-file-select-preview')\n    if (!elements) return\n\n    elements.forEach((element) => {\n        const previewElement = document.querySelector(element.dataset.target)\n        element.addEventListener('change', (e) => {\n            const reader  = new FileReader();\n            reader.onloadend = () => {\n                previewElement.src = reader.result;\n            }\n            const file = e.target.files[0]\n            if (file) {\n                reader.readAsDataURL(file);\n            }\n        })\n    })\n})\n"]},"metadata":{},"sourceType":"module"}